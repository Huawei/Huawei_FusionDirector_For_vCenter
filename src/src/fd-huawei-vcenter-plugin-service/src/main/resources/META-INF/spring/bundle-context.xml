<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
  xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
  xmlns:context="http://www.springframework.org/schema/context"
  xmlns:task="http://www.springframework.org/schema/task"
  xsi:schemaLocation="http://www.springframework.org/schema/beans
      http://www.springframework.org/schema/beans/spring-beans.xsd
      http://www.springframework.org/schema/context
      http://www.springframework.org/schema/context/spring-context-3.0.xsd
      http://www.springframework.org/schema/task http://www.springframework.org/schema/task/spring-task-3.0.xsd">

  <context:property-placeholder location="classpath:application.properties"/>

  <!--<bean name="dataSource" class="com.huawei.fdvcenterpluginui.dao.FDDataSource">-->
    <!--<property name="url" value="${h2.url}" />-->
    <!--<property name="user" value="sa" />-->
    <!--<property name="password" value="" />-->
  <!--</bean>-->

  <!--<bean id="dataSource" class="org.h2.jdbcx.JdbcConnectionPool" destroy-method="dispose">-->
    <!--<constructor-arg>-->
      <!--<bean class="org.h2.jdbcx.JdbcDataSource">-->
        <!--<property name="URL" value="${h2.url}" />-->
        <!--<property name="user" value="sa" />-->
        <!--<property name="password" value="" />-->
      <!--</bean>-->
    <!--</constructor-arg>-->
  <!--</bean>-->

  <bean class="com.huawei.fdvcenterpluginui.config.BeanConfig" />

  <bean name="jdbcTemplate" class="org.springframework.jdbc.core.JdbcTemplate">
    <constructor-arg name="dataSource" ref="dataSource" />
  </bean>

  <bean name="namedParameterJdbcTemplate" class="org.springframework.jdbc.core.namedparam.NamedParameterJdbcTemplate">
    <constructor-arg name="classicJdbcTemplate" ref="jdbcTemplate" />
  </bean>

  <!-- Controller -->
  <bean name="fdController" class="com.huawei.fdvcenterpluginui.mvc.FDController" />

  <bean name="fdSettingController" class="com.huawei.fdvcenterpluginui.mvc.FDSettingController"/>

  <!-- Service -->
  <bean name="systemService" class="com.huawei.fdvcenterpluginui.services.SystemServiceImpl"/>

  <bean name="sessionService" class="com.huawei.fdvcenterpluginui.services.SessionServiceImpl"/>

  <bean name="instantiationBeanService"
    class="com.huawei.fdvcenterpluginui.services.InstantiationBeanServiceImpl">
  </bean>

  <bean name="fdHostService" class="com.huawei.fdvcenterpluginui.services.FDHostServiceImpl" destroy-method="destroy"/>

  <bean name="fdSettingService" class="com.huawei.fdvcenterpluginui.services.FDSettingServiceImpl"/>

  <bean name="fdAlarmService" class="com.huawei.fdvcenterpluginui.services.FDAlarmServiceImpl" destroy-method="destroy"/>

  <bean name="fdSyncService" class="com.huawei.fdvcenterpluginui.services.FDSyncServiceImpl"/>

  <!-- DAO -->
  <bean name="fdHostDao" class="com.huawei.fdvcenterpluginui.dao.FDHostDao">
    <property name="dataSource" ref="dataSource" />
  </bean>

  <bean name="fdSettingDao" class="com.huawei.fdvcenterpluginui.dao.FDSettingDao">
    <property name="dataSource" ref="dataSource" />
  </bean>

  <bean name="fdAlarmDao" class="com.huawei.fdvcenterpluginui.dao.FDAlarmDao">
    <property name="dataSource" ref="dataSource" />
  </bean>

  <bean name="fdSyncDao" class="com.huawei.fdvcenterpluginui.dao.FDSyncDao">
    <property name="dataSource" ref="dataSource" />
  </bean>

  <context:annotation-config/>
  <!--spring扫描注解的配置-->
  <context:component-scan base-package="com.huawei.fdvcenterpluginui.task"/>

  <!--开启这个配置，spring才能识别@Scheduled注解-->
  <task:annotation-driven scheduler="qbScheduler" mode="proxy"/>
  <task:scheduler id="qbScheduler" pool-size="10"/>

</beans>
